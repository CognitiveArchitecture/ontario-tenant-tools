<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <title>Ontario Tenant Tools</title>

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#0f172a">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="description" content="Free tools for Ontario tenants facing eviction. Calculate deadlines, check rent increases, understand your rights.">

  <!-- Styles -->
  <link rel="stylesheet" href="./styles/tokens.css">
  <link rel="stylesheet" href="./styles/themes.css">
  <link rel="stylesheet" href="./styles/components.css">
  <link rel="stylesheet" href="./styles/print.css">
</head>
<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header -->
  <header>
    <div style="display:flex; align-items:center;">
      <button id="back-btn" class="icon-btn" aria-label="Go back">
        <svg class="icon" viewBox="0 0 24 24"><path d="M19 12H5m7 7l-7-7 7-7"/></svg>
      </button>
      <h1 id="page-title">Ontario Tenant Tools</h1>
    </div>
    <div class="header-actions">
      <button id="help-btn" class="icon-btn" aria-label="Help" aria-expanded="false" aria-controls="help-panel">
        <svg class="icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
      </button>
      <button id="settings-btn" class="icon-btn" aria-label="Settings" aria-expanded="false" aria-controls="settings-panel">
        <svg class="icon" viewBox="0 0 24 24"><path d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"/></svg>
      </button>
    </div>
  </header>

  <!-- Quick Exit FAB -->
  <button class="fab-exit" id="quick-exit" aria-label="Quick Exit - leaves this site immediately">
    <svg class="icon" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
    EXIT
  </button>

  <!-- Main Content -->
  <main id="main-content">
    <!-- Views will be rendered here by JavaScript -->
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" aria-label="Main navigation">
    <button class="nav-item active" data-view="home" aria-current="page">
      <svg class="icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>Home</span>
    </button>
    <button class="nav-item" data-view="tools">
      <svg class="icon" viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
      <span>Tools</span>
    </button>
    <button class="nav-item" data-view="report">
      <svg class="icon" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
      <span>Report</span>
    </button>
    <button class="nav-item" data-view="resources">
      <svg class="icon" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
      <span>Info</span>
    </button>
    <button class="nav-item" data-view="contacts" style="color:#ef4444;">
      <svg class="icon" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
      <span>Help</span>
    </button>
  </nav>

  <!-- Panel Overlay -->
  <div id="overlay" class="panel-overlay" aria-hidden="true"></div>

  <!-- Settings Panel -->
  <div id="settings-panel" class="panel" role="dialog" aria-labelledby="settings-title" aria-hidden="true">
    <button class="panel-close" aria-label="Close settings">
      <svg class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
    <h2 id="settings-title">Settings</h2>
    <div class="checkbox-group">
      <label class="checkbox-label">
        <input type="checkbox" id="check-light">
        Light Mode
      </label>
      <label class="checkbox-label">
        <input type="checkbox" id="check-contrast">
        High Contrast
      </label>
    </div>
    <button class="btn-primary" id="settings-close" style="height:44px; margin-top:1rem;">Close</button>
  </div>

  <!-- Help Panel -->
  <div id="help-panel" class="panel" role="dialog" aria-labelledby="help-title" aria-hidden="true">
    <button class="panel-close" aria-label="Close help">
      <svg class="icon" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
    <h2 id="help-title">User Guide</h2>

    <div class="help-section" style="margin-bottom:1rem;">
      <h4 style="margin:0 0 0.5rem; color:var(--text-primary);">Privacy &amp; Safety</h4>
      <p style="margin:0; color:var(--text-secondary); font-size:0.9rem;">This app runs entirely in your browser. No data is sent to any server. The EXIT button immediately leaves this site.</p>
    </div>

    <div class="help-section" style="margin-bottom:1rem;">
      <h4 style="margin:0 0 0.5rem; color:var(--text-primary);">N4 Notice (Unpaid Rent)</h4>
      <p style="margin:0; color:var(--text-secondary); font-size:0.9rem;">Calculate your 7 business day deadline to pay arrears and void the notice.</p>
    </div>

    <div class="help-section" style="margin-bottom:1rem;">
      <h4 style="margin:0 0 0.5rem; color:var(--text-primary);">Eviction Order Review</h4>
      <p style="margin:0; color:var(--text-secondary); font-size:0.9rem;">You have 15 days to request a review of an eviction order.</p>
    </div>

    <div class="help-section" style="margin-bottom:1rem;">
      <h4 style="margin:0 0 0.5rem; color:var(--text-primary);">N12 (Landlord's Own Use)</h4>
      <p style="margin:0; color:var(--text-secondary); font-size:0.9rem;">Check if you're owed one month's compensation based on notice period.</p>
    </div>

    <div class="help-section" style="margin-bottom:1rem;">
      <h4 style="margin:0 0 0.5rem; color:var(--text-primary);">Rent Increase</h4>
      <p style="margin:0; color:var(--text-secondary); font-size:0.9rem;">Verify if a rent increase is within the 2025 guideline (2.5%).</p>
    </div>

    <button class="btn-primary" id="help-close" style="height:44px; margin-top:1rem;">Close</button>
  </div>

  <!-- Entry Point -->
  <script type="module" src="./main.ts"></script>
</body>
</html>
